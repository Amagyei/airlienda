{% extends './base.html' %}
{% load static %}
{%block content%}
<!DOCTYPE html>
<html lang="en">
   <body class="main-layout">
      <div class="back_re">
         <div class="container">
            <div class="row">
               <div class="col-md-12">
                  <div class="title">
                    <h2>{{hostel.name}}</h2>
                  </div>
               </div>
            </div>
         </div>
      </div>

      
      <div class="about">
         
         <div class="container-fluid">
            
            
            <div class="row">

               <h4 class="title center">Select a room and go to checkout</h4>
               
               <div class="col-md-12">
                  
                  <div class="col ">
                  {% if rooms %}
                     <div class="row d-flex row-lg-6">
                     {% for room in rooms %}

                        <a href = "#checkout_btn" class="col-sm-2 mb-4">
                           <div class="border border-secondary rounded m-3 p-3 room_box" >
                              <div class="blog_box">
                              
                                 <div class="blog_room">
                                    <h3>{{room.number}}</h3>
                                    <span>{{room.type}} </span>
                                    <p>{{room.status}} </p>
                                    <p>{% for user in room.current_occupants.all %}

                                       {% if user %}{{ user.full_name }}{% endif %} {% if not forloop.last %}, {% endif %}
                                   {% empty %}
                                       No occupants
                                   {% endfor %} </p>
                                 </div>
                              </div>
                           </div>
                           <input type="hidden" class="room_id" value="{{room.rid}}" id="room_rid_{{room.rid}}">
                           <input type="hidden" class="room_number" value="{{room.number}}" id= "room_number_{{room.rid}}">
                           <button id="checkout_btn" class = "button btn btn-secondary border select-room center" data-index="{{room.rid}}" ><i class = "fas fa-shopping-cart"></i> select room</button>
                        
                        </a>
                     {% endfor %}
                     </div>


                     <a href = "{% url 'hostel:list_selected_room' %}">
                        <button class = "button btn btn-warning border select-room" id="book_room" ><i class = "fas fa-shopping-cart"></i> go to checkout</button>
                     </a>

                  {% else%}
                     <div><b> Sorry there are No rooms available please go try picking another hostel or Room Type</b></div>
                  {% endif %}
                      
                  </div>
               </div>
               
            </div>
         </div>
      </div>
         {% comment %} <input type="text"  id="room_no"> {% endcomment %}
         <input type="hidden" value="{{hostel.id}}" id="hostel_id">
         <input type="hidden" value="{{hostel.name}}" id="hostel_name">     
         <input type="hidden" value="{{roomtype.name}}" id="roomtype_name">
         <input type="hidden" value="{{roomtype.price}}" id="roomtype_price">
         <input type="hidden" value="{{roomtype.residents}}" id="residents">
         <input type="hidden" value="{{roomtype.rtid}}" id="roomtype_rtid">
         <input type="hidden" value="{{roomtype.residents}}" id="roomtype_residents">
      
      
   </body>
   <script>
      $(document).ready(function(){
          $("button").click(function(){
              $(this).toggleClass("active");
          });
      });
   </script>
   
   <!-- body -->
 
</html>
{%endblock %}